<section id="danhgia">
  <h2>ğŸ“Œ ÄÃ¡nh giÃ¡</h2>
  <div class="review-summary">
    <div class="review-score">9.1</div>
    <div class="review-details">
      <p><strong>Tuyá»‡t vá»i</strong></p>
      <p>50 Ä‘Ã¡nh giÃ¡</p>
    </div>
  </div>

  <div id="review-list">
    <?php
    // Táº¡o dá»¯ liá»‡u giáº£ 50 Ä‘Ã¡nh giÃ¡ cá»©ng
    $names = ['Thu Huyá»n', 'Má»¹ Kim', 'KhÃ¡nh Linh', 'Anh Tuáº¥n', 'Ngá»c Anh', 'Báº£o TrÃ¢m', 'Háº£i My', 'Duy KhÃ¡nh', 'Minh ChÃ¢u', 'HoÃ ng Nam'];
    $dates = ['12/01/2024', '15/02/2024', '20/03/2024', '05/04/2024', '30/05/2024', '10/06/2024', '18/07/2024', '25/08/2024', '03/09/2024', '11/10/2024'];
    $comments = [
        "Chuyáº¿n Ä‘i tuyá»‡t vá»i, lá»‹ch trÃ¬nh há»£p lÃ½, Ä‘á»“ Äƒn ngon.",
        "HÆ°á»›ng dáº«n viÃªn ráº¥t nhiá»‡t tÃ¬nh vÃ  thÃ¢n thiá»‡n.",
        "Cáº£nh Ä‘áº¹p mÃª há»“n, dá»‹ch vá»¥ trÃªn cáº£ mong Ä‘á»£i.",
        "Gia Ä‘Ã¬nh tÃ´i Ä‘Ã£ cÃ³ khoáº£ng thá»i gian Ä‘Ã¡ng nhá»›.",
        "Tour tá»• chá»©c chuyÃªn nghiá»‡p, má»i thá»© Ä‘á»u suÃ´n sáº».",
        "TÃ´i sáº½ giá»›i thiá»‡u tour nÃ y cho báº¡n bÃ¨.",
        "Xe Ä‘Æ°a Ä‘Ã³n Ä‘Ãºng giá», khÃ¡ch sáº¡n sáº¡ch sáº½ vÃ  tiá»‡n nghi.",
        "Má»—i Ä‘á»‹a Ä‘iá»ƒm dá»«ng chÃ¢n Ä‘á»u Ä‘á»ƒ láº¡i áº¥n tÆ°á»£ng tá»‘t.",
        "Ráº¥t hÃ i lÃ²ng vá»›i dá»‹ch vá»¥ cá»§a cÃ´ng ty.",
        "Láº§n sau cháº¯c cháº¯n tÃ´i sáº½ quay láº¡i."
    ];

    for ($i = 0; $i < 50; $i++) {
        $name = $names[array_rand($names)];
        $date = $dates[array_rand($dates)];
        $score = round(mt_rand(85, 99) / 10, 1);
        $short = $comments[array_rand($comments)];
        $long = $comments[array_rand($comments)] . ' ' . $comments[array_rand($comments)];
        ?>
        <div class="review-item">
          <div class="review-score-small"><?php echo $score; ?></div>
          <div class="review-text">
            <p class="author">Tuyá»‡t vá»i - <?php echo $name; ?></p>
            <p><?php echo $date; ?></p>
            <p>
              <?php echo $short; ?>
              <span class="extra hidden"><?php echo $long; ?></span>
              <span class="toggle-text">Xem thÃªm Â»</span>
            </p>
            <div class="review-images">
              <img src="https://via.placeholder.com/100x70" alt="áº¢nh Ä‘Ã¡nh giÃ¡">
              <img src="https://via.placeholder.com/100x70" alt="áº¢nh Ä‘Ã¡nh giÃ¡">
            </div>
          </div>
        </div>
        <?php
    }
    ?>
  </div>

  <div class="review-toggle">
    <button id="load-more-review" class="toggle-review-btn">Xem thÃªm Ä‘Ã¡nh giÃ¡</button>
  </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const reviews = document.querySelectorAll("#review-list .review-item");
  const btn = document.getElementById("load-more-review");
  const perLoad = 3;
  let visible = perLoad;

  reviews.forEach((el, index) => {
    el.style.display = index < visible ? "block" : "none";
  });

  btn.addEventListener("click", function () {
    visible += perLoad;
    reviews.forEach((el, index) => {
      if (index < visible) el.style.display = "block";
    });
    if (visible >= reviews.length) btn.style.display = "none";
  });

  document.querySelectorAll(".toggle-text").forEach(toggle => {
    toggle.addEventListener("click", function () {
      const extra = this.previousElementSibling;
      extra.classList.toggle("hidden");
      this.textContent = extra.classList.contains("hidden") ? "Xem thÃªm Â»" : "Thu gá»n Â«";
    });
  });
});
</script>
