<div class="room-image">
  <img src="<?php echo esc_url($anh_phong[0]); ?>" alt="<?php echo esc_attr($ten_phong); ?>">
</div>

<div class="room-info">
  <h3><?php echo esc_html($ten_phong); ?></h3>

  <?php if (!empty($anh_phong)): ?>
    <div class="room-detail-link">
      <a href="javascript:void(0);"
         class="open-gallery"
         data-gallery='<?php echo json_encode($anh_phong); ?>'>
         Chi tiết phòng &nbsp;›
      </a>
    </div>
  <?php endif; ?>


<script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll(".open-gallery").forEach(function (el) {
      el.addEventListener("click", function () {
        const images = JSON.parse(this.dataset.gallery || '[]');
        if (images.length > 0 && typeof Fancybox !== "undefined") {
          Fancybox.open(
            images.map((url) => ({ src: url, type: "image" }))
          );
        }
      });
    });
  });
</script>
