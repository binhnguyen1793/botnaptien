function getQR() {
    const qrPopup = document.getElementById("qr-popup");

    const formData = new URLSearchParams();
    formData.append('price', calculatedAmount);

    fetch("https://your-server-ip-or-domain:8080/run-bot", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: formData.toString()
    })
    .then(res => res.blob())
    .then(blob => {
        const url = URL.createObjectURL(blob);
        showQR(url);
    })
    .catch(() => {
        qrPopup.innerHTML = `<p style="color:red">Lỗi tạo mã QR. Vui lòng thử lại sau.</p>`;
    });
}
