<?php 
$anh_phong = get_sub_field('anh_phong');
$ten_phong_slug = 'phong-' . sanitize_title($ten_phong);
?>

<div class="room-card">
  <div class="room-image">
    <?php if (!empty($anh_phong) && is_array($anh_phong)): ?>
      <img src="<?php echo esc_url($anh_phong[0]); ?>" alt="<?php echo esc_attr($ten_phong); ?>">
    <?php endif; ?>
  </div>

  <div class="room-info">
    <h3><?php echo esc_html($ten_phong); ?></h3>

    <?php if (!empty($anh_phong)): ?>
      <div style="margin-bottom:10px;">
        <a href="<?php echo esc_url($anh_phong[0]); ?>"
           data-fancybox="<?php echo esc_attr($ten_phong_slug); ?>"
           style="color:#007bff;text-decoration:none;font-weight:500;">
          Chi tiết phòng &nbsp;›
        </a>

        <?php foreach(array_slice($anh_phong, 1) as $anh): ?>
          <a href="<?php echo esc_url($anh); ?>"
             data-fancybox="<?php echo esc_attr($ten_phong_slug); ?>"
             style="display:none;"></a>
        <?php endforeach; ?>
      </div>
    <?php endif; ?>

    <!-- Các thông tin như diện tích, sức chứa... giữ nguyên -->
    <div class="room-info-grid">
      <div><strong>Diện tích:</strong> <?php echo esc_html($dien_tich); ?>m²</div>
      <div><strong>Sức chứa:</strong> <?php echo esc_html($so_nguoi); ?></div>
      <div><strong>Hướng:</strong> <?php echo esc_html($huong_phong); ?></div>
      <div><strong>Giường:</strong> <?php echo esc_html($so_giuong); ?></div>
    </div>

    <div class="room-sub-info">
      <div><strong>❌ CHƯA </strong>bao gồm thuế VAT và phí dịch vụ.</div>
      <div><strong>❌ CHƯA </strong>bao gồm ăn sáng.</div>
    </div>

    <a href="/thanh-toan?price=<?php echo $gia; ?>" class="room-price-box">
      <?php echo number_format($gia, 0, ',', '.'); ?>đ
    </a>
    <a href="/thanh-toan?price=<?php echo $gia; ?>" class="room-price-box">Thanh toán ngay</a>
  </div>
</div>
