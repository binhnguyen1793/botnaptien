document.addEventListener('DOMContentLoaded', function () {
    const form = document.querySelector('.tour-search-form');
    form.addEventListener('submit', function (e) {
        e.preventDefault();
        const select = form.querySelector('[name="diadiem"]');
        const slug = select.options[select.selectedIndex].getAttribute('data-full-slug');
        const khoihanh = form.querySelector('[name="khoihanh"]').value;

        if (slug) {
            let url = '/travelweb/vung_mien/' + slug;
            if (khoihanh) {
                url += '?khoihanh=' + encodeURIComponent(khoihanh);
            }
            window.location.href = url;
        }
    });
});
